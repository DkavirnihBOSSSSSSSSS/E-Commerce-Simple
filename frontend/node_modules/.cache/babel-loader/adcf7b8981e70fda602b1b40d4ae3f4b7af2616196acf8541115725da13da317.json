{"ast":null,"code":"import axios from 'axios';\nimport { getBaseURL } from \"../apiConfig\";\nconst refreshToken = async token => {\n  try {\n    let url = `${getBaseURL()}api/token/refreshToken`;\n    const response = await axios.post(url, {\n      refreshToken: token\n    });\n    const newToken = response.data.token; // Assuming your backend returns the new token\n    // Update session storage or state with the new access token\n    console.log(\"inside refresh token \");\n    sessionStorage.setItem(\"jwt_token\", newToken);\n    sessionStorage.setItem(\"jwt_refresh_token\", response.data.refreshToken);\n    return response.data.refreshToken;\n  } catch (error) {\n    console.error('Error refreshing token:', error);\n    throw error; // Handle error appropriately\n  }\n};\nexport default refreshToken;","map":{"version":3,"names":["axios","getBaseURL","refreshToken","token","url","response","post","newToken","data","console","log","sessionStorage","setItem","error"],"sources":["C:/Tugas/Semester 5/E-Commerce-Tecart/client/src/components/Utils/refreshToken.js"],"sourcesContent":["import axios from 'axios';\nimport { getBaseURL } from \"../apiConfig\";\n\nconst refreshToken = async (token) => {\n    try {\n        let url = `${getBaseURL()}api/token/refreshToken`;\n        const response = await axios.post(url, { refreshToken: token });\n        const newToken = response.data.token; // Assuming your backend returns the new token\n        // Update session storage or state with the new access token\n        console.log(\"inside refresh token \")\n        sessionStorage.setItem(\"jwt_token\", newToken);\n        sessionStorage.setItem(\"jwt_refresh_token\", response.data.refreshToken);\n        return response.data.refreshToken;\n    } catch (error) {\n        console.error('Error refreshing token:', error);\n        throw error; // Handle error appropriately\n    }\n};\n\nexport default refreshToken;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,QAAQ,cAAc;AAEzC,MAAMC,YAAY,GAAG,MAAOC,KAAK,IAAK;EAClC,IAAI;IACA,IAAIC,GAAG,GAAG,GAAGH,UAAU,CAAC,CAAC,wBAAwB;IACjD,MAAMI,QAAQ,GAAG,MAAML,KAAK,CAACM,IAAI,CAACF,GAAG,EAAE;MAAEF,YAAY,EAAEC;IAAM,CAAC,CAAC;IAC/D,MAAMI,QAAQ,GAAGF,QAAQ,CAACG,IAAI,CAACL,KAAK,CAAC,CAAC;IACtC;IACAM,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;IACpCC,cAAc,CAACC,OAAO,CAAC,WAAW,EAAEL,QAAQ,CAAC;IAC7CI,cAAc,CAACC,OAAO,CAAC,mBAAmB,EAAEP,QAAQ,CAACG,IAAI,CAACN,YAAY,CAAC;IACvE,OAAOG,QAAQ,CAACG,IAAI,CAACN,YAAY;EACrC,CAAC,CAAC,OAAOW,KAAK,EAAE;IACZJ,OAAO,CAACI,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC/C,MAAMA,KAAK,CAAC,CAAC;EACjB;AACJ,CAAC;AAED,eAAeX,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}